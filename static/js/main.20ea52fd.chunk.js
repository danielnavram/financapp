(this["webpackJsonpfidapp-reactjs"]=this["webpackJsonpfidapp-reactjs"]||[]).push([[0],{22:function(e,a,t){e.exports=t(45)},27:function(e,a,t){},28:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(20),l=t.n(c),s=(t(27),t(28),t(2)),m=r.a.createContext({});function o(e){var a=e.children,t=Object(n.useState)(!1),c=Object(s.a)(t,2),l=c[0],o=c[1];return r.a.createElement(m.Provider,{value:{activeNavbar:l,setActiveNavbar:o}},a)}var i=m,u=t(12);t(37),t(38);u.initializeApp({apiKey:"AIzaSyCM_8wZhPXhHKpbhJfj5jzrLIsIW41UKRg",authDomain:"fidapp-3cd6f.firebaseapp.com",databaseURL:"https://fidapp-3cd6f.firebaseio.com",projectId:"fidapp-3cd6f",storageBucket:"fidapp-3cd6f.appspot.com",messagingSenderId:"892765148176",appId:"1:892765148176:web:943bec29c8aadca99ce695",measurementId:"G-MKZ7B20V6M"});var d=u.auth(),p=u.firestore(),f=r.a.createContext({});function E(e){var a=e.children,t=Object(n.useState)(null),c=Object(s.a)(t,2),l=c[0],m=c[1];return Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){m(e)}))}),[]),r.a.createElement(f.Provider,{value:l},a)}var _=f,b=r.a.createContext({});function v(e){var a=e.children,t=Object(n.useState)(""),c=Object(s.a)(t,2),l=c[0],m=c[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)("info"),f=Object(s.a)(p,2),E=f[0],_=f[1];return r.a.createElement(b.Provider,{value:{message:l,setMessage:m,active:u,setActive:d,type:E,setType:_}},a)}var g=b;t(39);function N(e){var a=e.name,t=e.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"header__username"},a),r.a.createElement("div",{className:"header__profile"},r.a.createElement("img",{src:t,alt:a,className:"header__image"})))}function h(e){var a=e.title,t=Object(n.useContext)(i),c=t.activeNavbar,l=t.setActiveNavbar,s=Object(n.useContext)(_);return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"hmb",onClick:function(){c||l(!0)}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("h3",{className:"logo__title"},r.a.createElement("a",{href:"#titlelogo",className:"logo__link"},a)),s?r.a.createElement(N,{name:s.displayName?s.displayName:s.email,image:s.photoURL?s.photoURL:"https://randomuser.me/api/portraits/lego/3.jpg"}):""))}var j=t(4);t(40);function O(e){var a=e.children,t=e.icon,n=e.ruta,c=t?["fas","fa-".concat(t)]:["fas","fa-tachometer-alt"];return r.a.createElement("li",{className:"menu__item"},r.a.createElement("i",{className:c.join(" ")}),r.a.createElement(j.a,{href:n},r.a.createElement("a",{className:"menu__link home"},a)))}function y(e){var a=e.children,t=Object(j.c)(),c=Object(s.a)(t,2),l=(c[0],c[1]),m=Object(n.useContext)(g),o=m.setType,i=m.setActive,u=m.setMessage;return r.a.createElement("li",{className:"menu__item"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement(j.a,{onClick:function(){d.signOut(),o("alert--info"),u("Se ha cerrado sesi\xf3n correctamente"),i(!0),l("/login")}},r.a.createElement("a",{className:"menu__link "},a)))}t(41);function C(){var e=Object(n.useContext)(i),a=e.activeNavbar,t=e.setActiveNavbar,c=Object(n.useContext)(_);return r.a.createElement("nav",{className:a?["nav","active"].join(" "):"nav"},r.a.createElement("span",{className:"nav__close",id:"nav__close",onClick:function(){a&&t(!1)}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"nav__content"},r.a.createElement("h2",null,"FinanciApp"),r.a.createElement("ul",{className:"menu"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{ruta:"/dashboard"},"Escritorio"),r.a.createElement(O,{icon:"user",ruta:"/profile"},"Perfil"),r.a.createElement(O,{icon:"cash-register",ruta:"/entries"},"Registros"),r.a.createElement(O,{icon:"sitemap",ruta:"/categories"},"Categorias"),r.a.createElement(y,null,"Salir")):r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{ruta:"/login",icon:"sign-in-alt"},"Ingresar"),r.a.createElement(O,{ruta:"/signup",icon:"user-plus"},"Registrarse")))))}t(42);function x(e){var a=e.title,t=e.children;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__content"},a?r.a.createElement("h3",{className:"card__title"},a):"",t))}function S(){var e=Object(j.c)(),a=Object(s.a)(e,2),t=(a[0],a[1]),c=Object(n.useContext)(g),l=(c.message,c.setMessage),m=c.setActive,o=c.setType;return r.a.createElement(x,null,r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form form_login",onSubmit:function(e){e.preventDefault();var a=document.querySelector(".email").value,n=document.querySelector(".password").value;d.signInWithEmailAndPassword(a,n).then((function(e){m(!0),o("alert--success"),l("Has iniciado sesi\xf3n"),t("/dashboard")})).catch((function(e){m(!0),o("alert--danger"),l(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"email",className:"form__input email",required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Email")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"password",name:"password",className:"form__input password",required:!0}),r.a.createElement("label",{htmlFor:"password",className:"form__label"},"Contrase\xf1a")),r.a.createElement("button",{className:"button button__submit"},"Ingresar"))),r.a.createElement(j.a,{href:"/signup"},r.a.createElement("p",{className:"message"},"\xbfA\xfan no tienes un usuario?, registrate")),r.a.createElement(j.a,{href:"/resetpassword"},r.a.createElement("p",{className:"message f-10 c--purple"},"\xbfHas olvidado tu contrase\xf1a? Recuperala")))}function w(){var e=Object(j.c)(),a=Object(s.a)(e,2),t=(a[0],a[1]),c=Object(n.useContext)(g),l=c.setMessage,m=c.setActive,o=c.setType;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form form_register",onSubmit:function(e){e.preventDefault();var a=document.querySelector(".email").value,n=document.querySelector(".password").value;d.createUserWithEmailAndPassword(a,n).then((function(e){m(!0),o("alert--success"),l("Se ha registrado correctamente. Por favor recuerde validar su correo electr\xf3nico y actualizar sus datos en la ruta /Perfil/Actualizar Datos"),t("/signup")})).catch((function(e){m(!0),o("alert--danger"),l(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"email",className:"form__input email",required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Email")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"password",name:"password",className:"form__input password",required:!0}),r.a.createElement("label",{htmlFor:"password",className:"form__label"},"Contrase\xf1a")),r.a.createElement("button",{className:"button button__submit"},"Registrarse"))),r.a.createElement(j.a,{href:"/login"},r.a.createElement("p",{className:"message"},"\xbfYa tienes un usuario?, inicia sesi\xf3n")))}function A(){var e=Object(j.c)(),a=Object(s.a)(e,2),t=(a[0],a[1]),c=Object(n.useContext)(g),l=c.setMessage,m=c.setActive,o=c.setType;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form form_reset",onSubmit:function(e){e.preventDefault();var a=document.querySelector(".email").value;d.sendPasswordResetEmail(a).then((function(){m(!0),o("alert--success"),l("Se ha enviado un correo de recuperaci\xf3n. Por favor seguir los pasos"),t("/login")})).catch((function(e){m(!0),o("alert--danger"),l(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"email",className:"form__input email",required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Email")),r.a.createElement("button",{className:"button button__submit"},"Recuperar Contrase\xf1a"))))}function F(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__content"},r.a.createElement("h3",{className:"card__title"},"Bienvenido!"),r.a.createElement("div",{className:"card__text"},r.a.createElement("p",null,"Recuerda registrarte o iniciar sesi\xf3n para gestionar tus finanzas y que puedas tener un seguimiento completo"),r.a.createElement("p",null,"Da click en el menu para que puedas acceder facilmente a tu usuario."))))}function q(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(),m=Object(s.a)(l,2),o=m[0],i=m[1],u=Object(n.useContext)(g),p=u.setActive,f=u.setMessage,E=u.setType,_=function(e){"displayName"===e.target.name&&c(e.target.value),i(e.target.value)};return r.a.createElement(x,{title:"Actualiza tu perfil"},r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),d.currentUser.updateProfile({displayName:t,photoURL:o}).then((function(){p(!0),E("alert--success"),f("Su perfil se ha actualizado correctamente.")})).catch((function(e){p(!0),E("alert--danger"),f(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"displayName",className:"form__input",onChange:_,required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Nombre")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"photoURL",className:"form__input",onChange:_,required:!0}),r.a.createElement("label",{htmlFor:"password",className:"form__label"},"Foto de Perfil")),r.a.createElement("button",{className:"button button__submit"},"Ingresar"))))}var I=t(9);function k(){var e=Object(n.useState)({name:"",createdAt:"",updatedAt:"",userId:""}),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(g),m=l.setActive,o=l.setType,i=l.setMessage,u=Object(n.useContext)(_);return r.a.createElement(x,{title:"Crear Categoria"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),p.collection("categorias").add(t).then((function(e){m(!0),o("alert--success"),i("Su categoria ha sido guardada. Ya puede dirigirse a la ruta de entradas para registrar sus movimientos de flujo de caja")})).catch((function(e){m(!0),o("alert--danger"),i(e.message)}))}},r.a.createElement("div",{className:"form__group"},r.a.createElement("input",{type:"text",name:"name",className:"form__input",onChange:function(e){var a;c((a={},Object(I.a)(a,e.target.name,e.target.value),Object(I.a)(a,"createdAt",new Date),Object(I.a)(a,"userId",u.uid),a))},required:!0}),r.a.createElement("label",{htmlFor:"name",className:"form__label"},"Nombre de la categoria")),r.a.createElement("button",{className:"button button__submit"},r.a.createElement("i",{className:"fas fa-save"})," Guardar")))}t(43);function R(e){var a=e.titles,t=e.children;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,a.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,t))}var P=t(14),M=t.n(P),D=t(21);function T(e){var a=e.catId,t=Object(n.useContext)(g),c=t.setActive,l=t.setType,s=t.setMessage,m=function(){var e=Object(D.a)(M.a.mark((function e(a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("categorias").doc(a).delete().then((function(){c(!0),l("alert--success"),s("Se ha eliminado correctamente")})).catch((function(e){c(!0),l("alert--danger"),s(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("span",{className:"label label--danger"},r.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return m(a)}}))}function z(e){var a=e.datos;return r.a.createElement(r.a.Fragment,null,a.map((function(e){return console.log(),r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,new Date(1e3*e.createdAt.seconds).toISOString().slice(0,10)),r.a.createElement("td",null,r.a.createElement(T,{catId:e.id})))})))}var U=t(15);function L(e){e.user;var a=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useContext)(_);return Object(n.useEffect)((function(){p.collection("categorias").where("userId","==",c.uid).onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(U.a)(Object(U.a)({},e.data()),{},{id:e.id}))})),r(a)}))}),[]),t}();return r.a.createElement(x,{title:"Lista de categorias"},r.a.createElement(R,{titles:["Categoria","Fecha","Acciones"]},r.a.createElement(z,{datos:a})))}function B(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(L,null))}function W(){return r.a.createElement(x,{title:"Registro de movimientos financieros"},r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form__group radio"},r.a.createElement("input",{type:"radio",name:"type",id:"inc",value:"inc",className:"form__radio"}),r.a.createElement("label",{htmlFor:"inc",className:"form__label"},"Ingreso"),r.a.createElement("input",{type:"radio",name:"type",id:"exp",value:"exp",className:"form__radio"}),r.a.createElement("label",{htmlFor:"exp",className:"form__label"},"Gasto")),r.a.createElement("div",{className:"form__group"},r.a.createElement("select",{className:"form__input",name:"category",required:!0},r.a.createElement("option",{selected:!0,disabled:!0},"Categoria"))),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"number",name:"value",className:"form__input",required:!0}),r.a.createElement("label",{htmlFor:"value",className:"form__label"},"Valor")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"title",className:"form__input",required:!0}),r.a.createElement("label",{htmlFor:"title",className:"form__label"},"Titulo")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("textarea",{className:"form__input",name:"description",required:!0}),r.a.createElement("label",{htmlFor:"description",className:"form__label"},"Descripci\xf3n")),r.a.createElement("button",{className:"button button__submit"},r.a.createElement("i",{className:"fas fa-save"})," Registrar"))))}function K(){var e=Object(n.useContext)(_);return r.a.createElement("div",{className:"wrapper"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b,{path:"/dashboard",component:F}),r.a.createElement(j.b,{path:"/profile",component:q}),r.a.createElement(j.b,{path:"/categories",component:B}),r.a.createElement(j.b,{path:"/entries",component:W})):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b,{path:"/login",component:S}),r.a.createElement(j.b,{path:"/signup",component:w}),r.a.createElement(j.b,{path:"/resetpassword",component:A}),r.a.createElement(j.b,{path:"/logout",component:y})))}function G(){var e=Object(n.useContext)(g),a=e.message,t=e.type,c=e.active,l=e.setActive;return r.a.createElement("div",{className:c?["alert","active",t].join(" "):["alert",t].join(" ")},r.a.createElement("div",{className:"alert__content"},r.a.createElement("i",{className:"fas fa-dashboard"}),r.a.createElement("p",{className:"alert__text"},a)),r.a.createElement("span",{className:"alert__close",onClick:function(e){l(!1)}},r.a.createElement("i",{className:"fas fa-times"})))}var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null,r.a.createElement(v,null,r.a.createElement(G,null),r.a.createElement(o,null,r.a.createElement(h,{title:"FinanciApp"}),r.a.createElement(C,null)),r.a.createElement(K,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.20ea52fd.chunk.js.map