(this["webpackJsonpfidapp-reactjs"]=this["webpackJsonpfidapp-reactjs"]||[]).push([[0],{22:function(e,a,t){e.exports=t(48)},27:function(e,a,t){},28:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(20),l=t.n(c),s=(t(27),t(28),t(2)),o=r.a.createContext({});function i(e){var a=e.children,t=Object(n.useState)(!1),c=Object(s.a)(t,2),l=c[0],i=c[1];return r.a.createElement(o.Provider,{value:{activeNavbar:l,setActiveNavbar:i}},a)}var m=o,u=t(13);t(37),t(38);u.initializeApp({apiKey:"AIzaSyCM_8wZhPXhHKpbhJfj5jzrLIsIW41UKRg",authDomain:"fidapp-3cd6f.firebaseapp.com",databaseURL:"https://fidapp-3cd6f.firebaseio.com",projectId:"fidapp-3cd6f",storageBucket:"fidapp-3cd6f.appspot.com",messagingSenderId:"892765148176",appId:"1:892765148176:web:943bec29c8aadca99ce695",measurementId:"G-MKZ7B20V6M"});var d=u.auth(),p=u.firestore(),f=r.a.createContext({});function E(e){var a=e.children,t=Object(n.useState)(null),c=Object(s.a)(t,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){o(e)}))}),[]),r.a.createElement(f.Provider,{value:l},a)}var g=f,v=r.a.createContext({});function b(e){var a=e.children,t=Object(n.useState)(""),c=Object(s.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)("info"),f=Object(s.a)(p,2),E=f[0],g=f[1];return r.a.createElement(v.Provider,{value:{message:l,setMessage:o,active:u,setActive:d,type:E,setType:g}},a)}var h=v;t(39);function _(e){var a=e.name,t=e.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"header__username"},a),r.a.createElement("div",{className:"header__profile"},r.a.createElement("img",{src:t,alt:a,className:"header__image"})))}function N(e){var a=e.title,t=Object(n.useContext)(m),c=t.activeNavbar,l=t.setActiveNavbar,s=Object(n.useContext)(g);return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"hmb",onClick:function(){c||l(!0)}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("h3",{className:"logo__title"},r.a.createElement("a",{href:"#titlelogo",className:"logo__link"},a)),s?r.a.createElement(_,{name:s.displayName?s.displayName:s.email,image:s.photoURL?s.photoURL:"https://randomuser.me/api/portraits/lego/3.jpg"}):""))}var j=t(4);t(40);function y(e){var a=e.children,t=e.icon,c=e.ruta,l=Object(n.useContext)(m).setActiveNavbar,s=t?["fas","fa-".concat(t)]:["fas","fa-tachometer-alt"];return r.a.createElement("li",{className:"menu__item",onClick:function(){l(!1)}},r.a.createElement("i",{className:s.join(" ")}),r.a.createElement(j.a,{href:c},r.a.createElement("a",{className:"menu__link home"},a)))}function O(e){var a=e.children,t=Object(j.c)(),c=Object(s.a)(t,2),l=(c[0],c[1]),o=Object(n.useContext)(h),i=o.setType,m=o.setActive,u=o.setMessage;return r.a.createElement("li",{className:"menu__item"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement(j.a,{onClick:function(){d.signOut(),i("alert--info"),u("Se ha cerrado sesi\xf3n correctamente"),m(!0),l("/login")}},r.a.createElement("a",{className:"menu__link "},a)))}t(41);function C(){var e=Object(n.useContext)(m),a=e.activeNavbar,t=e.setActiveNavbar,c=Object(n.useContext)(g);return r.a.createElement("nav",{className:a?["nav","active"].join(" "):"nav"},r.a.createElement("span",{className:"nav__close",id:"nav__close",onClick:function(){a&&t(!1)}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"nav__content"},r.a.createElement("h2",null,"FinanciApp"),r.a.createElement("ul",{className:"menu"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{ruta:"/dashboard"},"Escritorio"),r.a.createElement(y,{icon:"user",ruta:"/profile"},"Perfil"),r.a.createElement(y,{icon:"cash-register",ruta:"/entries"},"Registros"),r.a.createElement(y,{icon:"sitemap",ruta:"/categories"},"Categorias"),r.a.createElement(O,null,"Salir")):r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{ruta:"/login",icon:"sign-in-alt"},"Ingresar"),r.a.createElement(y,{ruta:"/signup",icon:"user-plus"},"Registrarse")))))}t(42);function x(e){var a=e.title,t=e.children;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__content"},a?r.a.createElement("h3",{className:"card__title"},a):"",t))}function S(){var e=Object(j.c)(),a=Object(s.a)(e,2),t=(a[0],a[1]),c=Object(n.useContext)(h),l=c.setMessage,o=c.setActive,i=c.setType;return r.a.createElement(x,null,r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form form_login",onSubmit:function(e){e.preventDefault();var a=document.querySelector(".email").value,n=document.querySelector(".password").value;d.signInWithEmailAndPassword(a,n).then((function(e){o(!0),i("alert--success"),l("Has iniciado sesi\xf3n"),t("/dashboard")})).catch((function(e){o(!0),i("alert--danger"),l(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"email",className:"form__input email",required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Email")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"password",name:"password",className:"form__input password",required:!0}),r.a.createElement("label",{htmlFor:"password",className:"form__label"},"Contrase\xf1a")),r.a.createElement("button",{className:"button button__submit"},"Ingresar"))),r.a.createElement(j.a,{href:"/signup"},r.a.createElement("p",{className:"message"},"\xbfA\xfan no tienes un usuario?, registrate")),r.a.createElement(j.a,{href:"/resetpassword"},r.a.createElement("p",{className:"message f-10 c--purple"},"\xbfHas olvidado tu contrase\xf1a? Recuperala")))}function A(){var e=Object(j.c)(),a=Object(s.a)(e,2),t=(a[0],a[1]),c=Object(n.useContext)(h),l=c.setMessage,o=c.setActive,i=c.setType;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form form_register",onSubmit:function(e){e.preventDefault();var a=document.querySelector(".email").value,n=document.querySelector(".password").value;d.createUserWithEmailAndPassword(a,n).then((function(e){o(!0),i("alert--success"),l("Se ha registrado correctamente. Por favor recuerde validar su correo electr\xf3nico y actualizar sus datos en la ruta /Perfil/Actualizar Datos"),t("/signup")})).catch((function(e){o(!0),i("alert--danger"),l(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"email",className:"form__input email",required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Email")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"password",name:"password",className:"form__input password",required:!0}),r.a.createElement("label",{htmlFor:"password",className:"form__label"},"Contrase\xf1a")),r.a.createElement("button",{className:"button button__submit"},"Registrarse"))),r.a.createElement(j.a,{href:"/login"},r.a.createElement("p",{className:"message"},"\xbfYa tienes un usuario?, inicia sesi\xf3n")))}function w(){var e=Object(j.c)(),a=Object(s.a)(e,2),t=(a[0],a[1]),c=Object(n.useContext)(h),l=c.setMessage,o=c.setActive,i=c.setType;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form form_reset",onSubmit:function(e){e.preventDefault();var a=document.querySelector(".email").value;d.sendPasswordResetEmail(a).then((function(){o(!0),i("alert--success"),l("Se ha enviado un correo de recuperaci\xf3n. Por favor seguir los pasos"),t("/login")})).catch((function(e){o(!0),i("alert--danger"),l(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"email",className:"form__input email",required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Email")),r.a.createElement("button",{className:"button button__submit"},"Recuperar Contrase\xf1a"))))}function F(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__content"},r.a.createElement("h3",{className:"card__title"},"Bienvenido!"),r.a.createElement("div",{className:"card__text"},r.a.createElement("p",null,"Recuerda registrarte o iniciar sesi\xf3n para gestionar tus finanzas y que puedas tener un seguimiento completo"),r.a.createElement("p",null,"Da click en el menu para que puedas acceder facilmente a tu usuario."))))}function I(){return r.a.createElement(x,{title:"Bienvenido!"},r.a.createElement("p",null,"Recuerda registrarte o iniciar sesi\xf3n para gestionar tus finanzas y que puedas tener un seguimiento completo"),r.a.createElement("p",null,"Da click en el menu para que puedas acceder facilmente a tu usuario."))}function k(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(),o=Object(s.a)(l,2),i=o[0],m=o[1],u=Object(n.useContext)(h),p=u.setActive,f=u.setMessage,E=u.setType,g=function(e){"displayName"===e.target.name&&c(e.target.value),m(e.target.value)};return r.a.createElement(x,{title:"Actualiza tu perfil"},r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),d.currentUser.updateProfile({displayName:t,photoURL:i}).then((function(){p(!0),E("alert--success"),f("Su perfil se ha actualizado correctamente.")})).catch((function(e){p(!0),E("alert--danger"),f(e.message)}))}},r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"displayName",className:"form__input",onChange:g,required:!0}),r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Nombre")),r.a.createElement("div",{className:"form__group input"},r.a.createElement("input",{type:"text",name:"photoURL",className:"form__input",onChange:g,required:!0}),r.a.createElement("label",{htmlFor:"password",className:"form__label"},"Foto de Perfil")),r.a.createElement("button",{className:"button button__submit"},"Ingresar"))))}var q=t(7);function R(){var e={name:"",createdAt:"",updatedAt:"",userId:""},a=Object(n.useState)(e),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useContext)(h),i=o.setActive,m=o.setType,u=o.setMessage,d=Object(n.useContext)(g);return r.a.createElement(x,{title:"Crear Categoria"},r.a.createElement("form",{className:"form",onSubmit:function(a){a.preventDefault(),p.collection("categorias").add(c).then((function(a){i(!0),m("alert--success"),u("Su categoria ha sido guardada. Ya puede dirigirse a la ruta de entradas para registrar sus movimientos de flujo de caja"),l(e)})).catch((function(e){i(!0),m("alert--danger"),u(e.message)}))}},r.a.createElement("div",{className:"form__group"},r.a.createElement("input",{type:"text",name:"name",className:"form__input",value:c.name,onChange:function(e){var a;l((a={},Object(q.a)(a,e.target.name,e.target.value),Object(q.a)(a,"createdAt",new Date),Object(q.a)(a,"userId",d.uid),a))},required:!0}),r.a.createElement("label",{htmlFor:"name",className:"form__label"},"Nombre de la categoria")),r.a.createElement("button",{className:"button button__submit"},r.a.createElement("i",{className:"fas fa-save"})," Guardar")))}t(43);function P(e){var a=e.titles,t=e.children;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,a.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,t))}var D=t(16),M=t.n(D),T=t(21);function z(e){var a=e.catId,t=Object(n.useContext)(h),c=t.setActive,l=t.setType,s=t.setMessage,o=function(){var e=Object(T.a)(M.a.mark((function e(a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("categorias").doc(a).delete().then((function(){c(!0),l("alert--success"),s("Se ha eliminado correctamente")})).catch((function(e){c(!0),l("alert--danger"),s(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("span",{className:"label label--danger"},r.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return o(a)}}))}function L(e){var a=e.datos;return r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,new Date(1e3*e.createdAt.seconds).toISOString().slice(0,10)),r.a.createElement("td",null,r.a.createElement(z,{catId:e.id})))})))}var U=t(8);function B(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useContext)(g);return Object(n.useEffect)((function(){p.collection("categorias").where("userId","==",c.uid).onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(U.a)(Object(U.a)({},e.data()),{},{id:e.id}))})),r(a)}))}),[]),t}function V(e){e.user;var a=B();return r.a.createElement(x,{title:"Lista de categorias"},r.a.createElement(P,{titles:["Categoria","Fecha","Acciones"]},r.a.createElement(L,{datos:a})))}function H(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement(V,null))}function W(e){var a=e.children,t=e.handleSubmit;return r.a.createElement("div",{className:"card__form"},r.a.createElement("form",{className:"form",onSubmit:t},a))}function G(e){var a=e.children,t=e.htmlFor;return r.a.createElement("label",{className:"form__label",htmlFor:t},a)}function K(e){return r.a.createElement("div",{className:e.group?["form__group",e.group].join(" "):"form__group "},r.a.createElement("input",{className:"form__input",name:e.name,type:e.type,onChange:e.handlechange,required:e.required,value:e.value}),r.a.createElement(G,{htmlFor:e.htmlFor},e.label))}function J(){var e={type:"exp",category:"Categoria",value:"",createdAt:"",date:"",title:"",description:""},a=B(),t=Object(n.useState)(e),c=Object(s.a)(t,2),l=c[0],o=c[1],i=Object(n.useContext)(g),m=Object(n.useContext)(h),u=m.setType,d=m.setMessage,f=m.setActive,E=function(e){var a;o(Object(U.a)(Object(U.a)({},l),{},(a={},Object(q.a)(a,e.target.name,e.target.value),Object(q.a)(a,"createdAt",new Date),Object(q.a)(a,"userId",i.uid),a)))};return r.a.createElement(x,{title:"Registro de movimientos financieros"},r.a.createElement(W,{handleSubmit:function(a){if(a.preventDefault(),"Categoria"===l.category)f(!0),u("alert--danger"),d("Por favor seleccionar una categoria valida");else{var t={userId:l.userId,createdAt:l.createdAt,category:p.doc("categorias/".concat(l.category)),categoryId:l.category,title:l.title,date:l.date,description:l.description,value:l.value,type:l.type};p.collection("registros").add(t),o(e),f(!0),u("alert--success"),d("Su registro se ha guardado correctamente")}}},r.a.createElement("div",{className:"form__group radio"},r.a.createElement("input",{type:"radio",name:"type",id:"inc",defaultValue:"inc",checked:"inc"===l.type,onChange:E,className:"form__radio"}),r.a.createElement("label",{htmlFor:"inc",className:"form__label"},"Ingreso"),r.a.createElement("input",{type:"radio",name:"type",id:"exp",defaultValue:"exp",checked:"inc"===e.type,onChange:E,className:"form__radio"}),r.a.createElement("label",{htmlFor:"exp",className:"form__label"},"Gasto")),r.a.createElement("div",{className:"form__group"},r.a.createElement("select",{className:"form__input",name:"category",defaultValue:l.category,onChange:E,required:!0},r.a.createElement("option",{disabled:!0},"Categoria"),a.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("label",{htmlFor:"category",className:"form__label"},"Categoria")),r.a.createElement(K,{name:"value",label:"Valor",htmlFor:"value",required:!0,handlechange:E,type:"number",value:l.value}),r.a.createElement(K,{name:"date",group:"date",label:"Fecha Registro",htmlFor:"date",required:!0,handlechange:E,type:"date",value:l.date}),r.a.createElement(K,{name:"title",group:"title",label:"Titulo",htmlFor:"title",required:!0,handlechange:E,type:"text",value:l.title}),r.a.createElement("div",{className:"form__group input"},r.a.createElement("textarea",{className:"form__input",name:"description",onChange:E,value:l.description,required:!0}),r.a.createElement("label",{htmlFor:"description",className:"form__label"},"Descripci\xf3n")),r.a.createElement("button",{className:"button button__submit"},r.a.createElement("i",{className:"fas fa-save"})," Registrar")))}function Y(e){var a=e.docId,t=function(){var e=Object(n.useContext)(h),a=e.setActive,t=e.setType,r=e.setMessage;return{removeHandler:function(e,n){p.collection(e).doc(n).delete().then((function(){a(!0),t("alert--success"),r("El item ha sido eliminado correctamente")})).catch((function(e){a(!0),t("alert--danger"),r(e.message)}))}}}();return r.a.createElement("span",{className:"label label--danger"},r.a.createElement("i",{className:"fas fa-trash-alt",onClick:function(){return t.removeHandler("registros",a)}}))}function Z(e){var a=e.datos;return r.a.createElement(r.a.Fragment,null,a?a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.date),r.a.createElement("td",null,"exp"===e.type?"Gasto":"Ingreso"),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.categoryName),r.a.createElement("td",null,e.value),r.a.createElement("td",null,r.a.createElement(Y,{docId:e.id})))})):"No hay datos")}t(45);function X(){var e=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useContext)(g);return Object(n.useEffect)((function(){p.collection("registros").where("userId","==",c.uid).onSnapshot((function(e){var a=[];e.forEach((function(e){var t=e.data();t.id=e.id;var n=t.category.get().then((function(e){return Object(U.a)(Object(U.a)({},t),{},{categoryName:e.data().name})})).catch((function(e){return console.error(e)}));a.push(n)})),Promise.all(a).then((function(e){return r(e)}))}))}),[]),t}();return r.a.createElement(x,{title:"Listado de registros"},r.a.createElement(P,{titles:["Fecha","Tipo","Nombre","Categoria","Valor","Acci\xf3n"]},r.a.createElement(Z,{datos:e})))}function $(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(X,null))}function Q(){var e=Object(n.useContext)(g);return r.a.createElement("div",{className:"wrapper"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b,{path:"/dashboard",component:F}),r.a.createElement(j.b,{path:"/profile",component:k}),r.a.createElement(j.b,{path:"/categories",component:H}),r.a.createElement(j.b,{path:"/entries",component:$})):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b,{path:"/",component:I}),r.a.createElement(j.b,{path:"/login",component:S}),r.a.createElement(j.b,{path:"/signup",component:A}),r.a.createElement(j.b,{path:"/resetpassword",component:w}),r.a.createElement(j.b,{path:"/logout",component:O})))}function ee(){var e=Object(n.useContext)(h),a=e.message,t=e.type,c=e.active,l=e.setActive;return r.a.createElement("div",{className:c?["alert","active",t].join(" "):["alert",t].join(" ")},r.a.createElement("div",{className:"alert__content"},r.a.createElement("i",{className:"fas fa-dashboard"}),r.a.createElement("p",{className:"alert__text"},a)),r.a.createElement("span",{className:"alert__close",onClick:function(e){l(!1)}},r.a.createElement("i",{className:"fas fa-times"})))}var ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null,r.a.createElement(b,null,r.a.createElement(i,null,r.a.createElement(N,{title:"FinanciApp"}),r.a.createElement(C,null)),r.a.createElement(Q,null),r.a.createElement(ee,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.9650ca58.chunk.js.map